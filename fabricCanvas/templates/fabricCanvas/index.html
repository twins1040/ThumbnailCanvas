{% load static %}
<!DOCTYPE html>
<html>
<head>
	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-575KJPX');</script>
	<!-- End Google Tag Manager -->

	<title>썸네일 메이커</title>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, shrink-to-fit=no">
	<meta name="description" content="더 이상 직접 썸네일을 만들지 마세요. 이미 성공한 썸네일을 고르고, 원하는 문구를 넣으면 끝!">

	<!-- 합쳐지고 최소화된 최신 CSS -->
	<link rel="stylesheet" href="static/bootstrap-4.1.3-dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="static/css/huebee.min.css">
	<link rel="stylesheet" href="static/css/material-icons.css">
	<link rel="stylesheet" href="static/bypass/custom.css">

	<!-- 폰트 목록 -->
	<link rel="stylesheet" href="static/font/text_font/stylesheet.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/hanna.css">


	<!-- IE8 에서 HTML5 요소와 미디어 쿼리를 위한 HTML5 shim 와 Respond.js -->
	<!-- WARNING: Respond.js 는 당신이 file:// 을 통해 페이지를 볼 때는 동작하지 않습니다. -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>

<body class="noScroll gray900 white-text">
	<div class="view-control">
		<!-- Navbar -->
		<nav class="navbar gray800 z-100">
			<h1 class="m-0 h4 d-inline">썸네일 메이커</h1>

			<!-- Undo Redo -->
			<div class="btn-group mx-auto">
				<button id="btn-undo" class="btn btn-text-white btn-icon">
					<i >reply</i>
					<!-- <span>Undo</span> -->
				</button>
				<button id="btn-redo" class="btn btn-text-white btn-icon">
					<i class="y-flip">reply</i>
					<!-- <span>Redo</span> -->
				</button>
			</div>

			<div class="btn-group">
				<div class="mr-1">
					{% if user.is_authenticated %}
						<a class="btn btn-with-icon btn-text-white color-white mb-0" id="switch-user" data-user="true">
							로그아웃
						</a>
					{% else %}
						<a class="btn btn-with-icon btn-text-white color-white mb-0" id="switch-user" data-user="false">
							로그인
						</a>
					{% endif %}
				</div>
		</nav>

		<!-- Contents -->
			<div class="container-fluid gray900">
				<div class="row scroll-wraper">

					<!-- Canvas -->
					<div class="col-md-6 p-0 order-md-2">
						<canvas id="myCanvas" class="canvas-artboard sticky-header">
							Your browser does not support the canvas element
						</canvas>
					</div>

					<!-- Tools -->
					<div class="col-md-6 p-0 d-flex">
						<!-- Toolbar -->
						<nav id="toolbar" class="nav-toolbar px-0 gray800 text-center">

							<div id="selectTemplate" class="btn-tool active">
								<div class="m-auto">
									<i>widgets</i><br>
									템플릿
								</div>
							</div>
							<div id="addImage" class="btn-tool">
								<div class="m-auto">
									<i>image</i><br>
									이미지
								</div>
							</div>
							<div id="addText"  class="btn-tool">
								<div class="m-auto">
									<i>text_fields</i><br>
									글자
								</div>
							</div>
							<div id="download-btn-a" class="btn-tool">
								<div class="m-auto">
									<i>file_download</i><br>
									저장
								</div>
							</div>

							<!-- add image-clip -->

							<!-- add-text -->
							<!-- <button id="addText" class="btn btn-text-white btn-icon">
								<i class="y-flip">text_fields</i>
							</button> -->

							<!-- Save -->
							<!-- <div class="btn-group">
								<a id="download-btn-a" class="btn btn-icon">
									<i>file_download</i>
								</a>
							</div> -->

						</nav>

						<!-- Tool Options -->
						<div id="toolOptions" class="w-100 tool-options gray850 transition scroll-on">

							<!-- pannels -->
							<div id="pannels" class="pannels px-3 py-4">
								<!-- align items -->
								<div id="alignItems" class="block-option-group hide text-center">
									<div class="btn-group">
										<button id="align-left" class="btn btn-text-white btn-icon">
											<i >format_align_left</i>
										</button>
										<button id="align-vertical-center" class="btn btn-text-white btn-icon">
											<i >format_align_center</i>
										</button>
										<button id="align-right" class="btn btn-text-white btn-icon">
											<i >format_align_right</i>
										</button>
										<button id="align-top" class="btn btn-text-white btn-icon">
											<i >vertical_align_top</i>
										</button>
										<button id="align-horizontal-center" class="btn btn-text-white btn-icon">
											<i >vertical_align_center</i>
										</button>
										<button id="align-bottom" class="btn btn-text-white btn-icon">
											<i >vertical_align_bottom</i>
										</button>
									</div>
								</div>
								<!-- templates -->
								<div id="templates" class="block-option-group">
									<div id="templateMy" class="d-flex flex-wrap mb-3">

										<div class="template-header">
											<h4>내 템플릿</h4>
										</div>
										<div class="block-thumbnail">
											<div class="block-thumbnail-empty">
												<a id="add-my-template" class="btn btn-text-white btn-icon m-auto">
													<i>add</i>
												</a>
											</div>
										</div>
										{% if user.is_authenticated %}
											{% for tmpl in user_templates reversed %}
												<div class="block-thumbnail" id="tmpl-{{tmpl.id}}">
													<img>
													{% if user.is_superuser %}
														<i >highlight_off</i>
													{% endif %}
												</div>
											{% endfor %}
										{% endif %}
									</div>
									<div id="templateFeatured" class="d-flex flex-wrap">
										<div class="template-header">
											<h4>인기 템플릿</h4>
										</div>
										{% for tmpl in templates reversed %}
											<div class="block-thumbnail" id="tmpl-{{tmpl.id}}">
												<img>
												{% if user.is_superuser %}
													<i >highlight_off</i>
												{% endif %}
											</div>
										{% endfor %}
									</div>
								</div>
								<!-- Add images -->
								<div id="addImageOptions" class="block-option-group hide">
									<!-- load background-image -->
									<label for="imgLoader" class="btn btn-block btn-secondary mb-3">
										 배경 이미지 추가
										<input type="file" id="imgLoader" class="hide-input" multiple/>
									</label>
									<!-- add image-clip -->
									<label for="clipLoader" class="btn btn-block btn-secondary mb-0">
										소스 이미지 추가
										<input type="file" id="clipLoader" class="hide-input" multiple/>
									</label>
								</div>
								<!-- text -->
								<div id="settingText" class="block-option-group hide">

									<!-- 글꼴 -->
									<div class="block-option">
										<button id="btnGroupDrop1" type="button" class="btn btn-block btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
											글꼴
										</button>
										<div class="dropdown-menu" id="font-dropdown-menu" aria-labelledby="btnGroupDrop1"></div>
									</div>

									<!-- 텍스트 -->
									<div class="block-option d-flex btn-icon">
										<button class="btn btn-text-white color-button" >
											<input class="color-input" id="fill-hueb" data-huebee readonly>
										</button>
										<input id="sliderFontSize" type="range" min="1" max="200" value="0" class="slider mr-2" >
									</div>

									<!-- 외곽선 -->
									<div class="block-option d-flex btn-icon">
										<button class="btn btn-text-white color-button" >
											<input class="color-input" id="stroke-hueb" data-huebee readonly>
										</button>
										<input id="sliderTextStroke" type="range" min="0" max="100" value="0" class="slider mr-2" >
									</div>

									<!-- 이중 외곽선 -->
									<div class="block-option d-flex btn-icon" id="stroke2-console">
										<button class="btn btn-text-white color-button" >
											<input class="color-input" id="stroke2-hueb" data-huebee readonly>
										</button>
										<input id="sliderTextStroke2" type="range" min="0" max="100" value="0" class="slider mr-2" >
									</div>

									<!-- 자간 -->
									<div class="block-option d-flex btn-icon" id="stroke2-console">
										<button class="btn btn-text-white btn-with-icon">
											<i>format_line_spacing</i>
										</button>
										<input id="sliderCharSpace" type="range" min="-200" max="200" step="4" value="0" class="slider mr-2" >
									</div>

									<!-- 지우기 -->
									<div class="block-option d-flex">
										<button class="btn btn-text-white btn-with-icon" id="btn-copy" alt="ctr+c">
											<i>content_copy</i>복사
										</button>
										<button class="btn btn-text-white btn-with-icon" id="btn-delete">
											<i >delete</i>삭제
										</button>
										<div class="block-option d-flex btn-icon" id="stroke2-text">
											<button class="btn btn-text-white btn-with-icon" >
												<i>add</i>
												외곽선 추가
											</button>
										</div>
									</div>
								</div>

								<div class="block-option-group hide">
									<!-- 임시저장 -->
									<!-- <div class="btn-group" id="temp-save" role="group">
										<label for="upload" class="btn btn-text-white btn-with-icon mb-0" >
											<i >save</i>
											<span>임시저장</span>
										</label>
									</div> -->

									<!-- 콤포넌트 제어 -->
									<!-- <div class="btn-group" role="group" aria-label="Basic example">
									</div> -->

								</div>
							</div>
						</div>
					</div>


				</div>
			</div>
	</div>










	<!-- It is not visible, for server -->
	<form id="upload-tmpl-form" action="{% url 'fabric_canvas:insert_tmpl' %}" method="POST">
		{% csrf_token %}
		<input type="hidden" id="input-data" name="data">
		<input type="hidden" id="input-thumbnail" name="thumbnail">
	</form>

	<script src="static/js/jquery-3.3.1.min.js"></script>
	<script src="static/js/popper.min.js"></script>
	<script src="static/bootstrap-4.1.3-dist/js/bootstrap.min.js"></script>
	<script src="static/js/huebee.pkgd.min.js"></script>
	<script src="static/js/fabric.js"></script>
	<script src="static/js/js.cookie.min.js"></script>
	<script src="https://rawgit.com/bramstein/fontfaceobserver/master/fontfaceobserver.js" ></script>
	<script src="static/bypass/features.js"></script>


</body>
</html>
